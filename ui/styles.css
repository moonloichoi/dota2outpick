:root{
  --bg:#0b0f14;--card:#111722;--line:#1d2a3a;--text:#e6edf3;--muted:#9fb0c3;--brand:#3b82f6;
  --hdr:56px;--wmh:22px;
  --heroRatio:calc(9/16);
  --itemRatio:calc(8/11);
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--text);overflow:hidden}
.muted{color:var(--muted)}

.hdr{position:sticky;top:0;background:rgba(11,15,20,.85);backdrop-filter:blur(8px);border-bottom:1px solid var(--line);z-index:10}
.bar{max-width:1200px;margin:0 auto;padding:.75rem 1rem;display:flex;align-items:center;gap:12px}
.brand{font-weight:800}.tag{flex:1;text-align:center;color:var(--muted)}

.shell{max-width:1200px;margin:0 auto;padding:12px;display:grid;gap:12px;grid-template-columns:1fr 1fr;grid-template-rows:auto 1fr;
height:calc(100vh - var(--hdr) - var(--wmh))}
.card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:12px}

.sectionTitle{display:flex;align-items:center;gap:8px;margin-bottom:6px;color:#cfe1ff}
.sectionTitle svg{width:18px;height:18px;opacity:.9}

/* Queue */
.queue{grid-column:1 / -1}
.slots{display:flex;justify-content:center;gap:8px}
.slot{width:104px;aspect-ratio:16/9;border-radius:10px;display:grid;place-items:center;border:1px dashed #2a3a52;background:#0e141b;color:#7f92a7}
.slot.filled{border-style:solid;border-color:#2d466a}
.slot img{width:100%;height:100%;object-fit:cover}
.qactions{display:flex;justify-content:center;margin-top:4px}
.btn{background:#182330;border:1px solid #23334a;color:#cfe1ff;border-radius:14px;padding:.55rem 1rem;font-weight:700;cursor:pointer}

/* Pool */
.pool{display:flex;flex-direction:column;min-height:0}
.searchbar{position:relative;margin-bottom:8px}
.searchbar input{width:100%;background:#0e141b;border:1px solid #1b2a3d;color:var(--text);border-radius:10px;padding:.55rem .7rem}
.clearX{position:absolute;right:8px;top:50%;transform:translateY(-50%);background:#0e141b;border:1px solid #213247;color:#9fb0c3;border-radius:8px;padding:.2rem .45rem;cursor:pointer}
.grid{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;overflow:auto;max-height:100%}
.tile{border:1px solid #213247;border-radius:10px;background:#1a2432;display:flex;flex-direction:column;overflow:hidden;cursor:pointer;transition:transform .15s ease,filter .15s ease}
.tile:hover{transform:scale(1.05);filter:brightness(1.08)}
.thumb{position:relative;width:100%;aspect-ratio:16/9}
.thumb img{width:100%;height:100%;object-fit:cover}
.name{padding:6px 8px 8px;font-size:12px;font-weight:800;text-align:left;line-height:1.2;max-height:calc(1.2em*2+6px);overflow:hidden;white-space:normal;word-break:break-word}
.tile.picked{outline:3px solid var(--brand);box-shadow:0 0 0 2px rgba(59,130,246,.3) inset}
.pickedBadge{position:absolute;top:6px;left:6px;background:var(--brand);color:#fff;border-radius:6px;padding:.1rem .35rem;font-size:.7rem;font-weight:700}

/* Suggestions */
.panel{display:flex;flex-direction:column;justify-content:center;gap:12px;min-height:0}
.list{display:grid;grid-template-columns:repeat(5,1fr);gap:10px;align-items:center;justify-items:center}
.sug{border:1px solid #213247;border-radius:12px;background:#1a2432;width:100%;max-width:180px;display:flex;flex-direction:column;overflow:hidden}
.sug.hero .thumb{aspect-ratio:16/9}
.sug.item .thumb{aspect-ratio:11/8}
.sug .thumb{position:relative;border-bottom:1px solid #213247}
.sug .thumb img{width:100%;height:100%;object-fit:cover}
.sname{padding:6px 8px 8px;font-size:12px;font-weight:800;text-align:left;line-height:1.2;max-height:calc(1.2em*2+6px);overflow:hidden;white-space:normal;word-break:break-word}

/* Nguá»“n overlay */
.sources{position:absolute;top:6px;right:6px;display:flex;flex-wrap:wrap;gap:4px;max-width:65%}
.src{width:18px;height:18px;border:1px solid rgba(255,255,255,.4);border-radius:4px;overflow:hidden;background:#0b0f14}
.src img{width:100%;height:100%;object-fit:cover}

/* Toast & Watermark */
.toast{position:fixed;bottom:60px;left:50%;transform:translateX(-50%);background:rgba(20,28,40,.95);color:#fff;padding:10px 18px;border-radius:10px;font-weight:700;border:1px solid #3b82f6;display:none;z-index:50}
.watermark{text-align:center;color:var(--muted);opacity:.45;font-size:12px;height:var(--wmh)}

@media(max-width:428px){
  .shell{grid-template-columns:1fr}
  .grid{grid-template-columns:repeat(3,1fr)}
  .list{grid-template-columns:repeat(2,1fr)}
  .slot{width:92px}
}
